
<div class="card mb-12">
  <div class="card-header">
    
  </div>
  <div class="card-body table-responsive">
    <table class="table table-hover table-striped">
      <thead>
        <div class="row">
          <div class="container">
            <div class="row">
              <div class="col-md-7">
                <h2>
                  <b>My Membership Status</b>
                </h2>

          
                <!-- <select class="form-control" id="power" required (change)="getChangeValue($event)">
                  <option selected>Employee Status</option>
                  <option *ngFor="let pow of selectOptionStatus" [value]="pow">{{pow}}</option>
                </select> -->
              
              </div>
            </div>
            <hr />
            <br />
            <div class="">
              <div class="card-header">
                <ngb-tabset>
                  <ngb-tab title="Approved">
                    <ng-template ngbTabContent>
                      <br/>
                      <table class="table table-hover table-striped">
                      <table #dataTable class="table table-striped table-hover table-bordered table-sm" id="mytable">
                        <caption>
                          <b>View Approved Details</b>
                        </caption>
                        <thead>
                          <tr>
                            <th style="text-align: center;" scope="col">
                             Membership Id
                            </th>
                            <th style="text-align: center;" scope="col">
                              typeName
                            </th>
                            <th style="text-align: center;" scope="col">
                              nicNumber
                            </th>
                            <th style="text-align: center;" scope="col">
                               Name
                            </th>
                            <th style="text-align: center;" scope="col">
                              Contact Number
                            </th>
                            <th style="text-align: center;" scope="col">
                              Email
                            </th>
                            <th style="text-align: center;" scope="col">
                              Status
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngIf="approvedStatus?.length <1">
                            <td colspan="12" style="text-align: center;"><b>There are no records to show</b></td>
                          </tr>
                          <tr *ngFor="
                                                  let data of approvedStatus
                                                      | paginate
                                                          : {
                                                                itemsPerPage: 10,
                                                                currentPage: p
                                                            }
                                                      | filter: searchText
                                              ">
                            <td style="text-align: center;">
                              {{ data.membershipId }}
                            </td>
                            <td style="text-align: center;">
                             {{data.typeName}}
                            </td>
                            <td style="text-align: center;">
                              {{ data.nicNumber }}
                            </td>
                            <td style="text-align: center;">
                              {{ data.firstName }}
                            </td>
                            <td style="text-align: center;">
                              {{ data.phonenumber }}
                            </td>
                            <td style="text-align: center;">
                              {{ data.email }}
                            </td>
                            <td  *ngIf=" data.paymentDetails == 'Created'" style="color:green; text-align: center; ">
                               
                              <i class="fa fa-clock-o" aria-hidden="true" ngbTooltip="Your payment is processing"></i>
                          </td>
                          <td  *ngIf=" data.paymentDetails == 'Success'" style="color:green; text-align: center; ">
                            <button type="button" class="btn btn-info">Get the invoice</button>
                            <i class="fa fa-clock-o" aria-hidden="true" ngbTooltip="Your payment is processing"></i>
                        </td>
                              <td  *ngIf="'Accepted' == data.AcceptedRejectedStatus && data.paymentDetails == 'Pending'" style="color:green; text-align: center; ">
                               
                                <button type="button" (click)="makePayment(data)" class="btn btn-success btn-sm" *ngIf = "pendingText?.AcceptedRejectedStatus !='Accepted'"><b><i class="fa fa-money" aria-hidden="true" ngbTooltip="Make the payment"></i> Payment</b></button> 
                               
                              &nbsp;
                              
                              <!-- <button type="button" *ngIf="showStatus"  (click)="activeEmployee()" class="btn btn-sucess btn-sm">
                                <i class="fa fa-trash-o" aria-hidden="true"></i>
                              </button> -->
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <pagination-controls (pageChange)="p = $event" style="float:right;"></pagination-controls>
                      </table>
                   </ng-template>
                  </ngb-tab>
                  <ngb-tab>
                    <ng-template ngbTabTitle><b>Pending</b></ng-template>
                    <ng-template ngbTabContent>
                      <div>
                        <div class="alert alert-success" role="alert" *ngIf = "pendingText?.AcceptedRejectedStatus !='Pending'">
                          There is no pending Membership request!
                        </div>
                        <table class="table table-hover table-striped" *ngIf = "pendingText?.AcceptedRejectedStatus =='Pending'">
                      <table #dataTable class="table table-striped table-hover table-bordered table-sm" id="mytable" >
                        <caption>
                          <b>View pending Details</b>
                        </caption>
                        <thead>
                          <tr>
                            <th style="text-align: center;" scope="col">
                             Membership Id
                            </th>
                            <th style="text-align: center;" scope="col">
                              typeName
                            </th>
                            <th style="text-align: center;" scope="col">
                              nicNumber
                            </th>
                            <th style="text-align: center;" scope="col">
                               Name
                            </th>
                            <th style="text-align: center;" scope="col">
                              Contact Number
                            </th>
                            <th style="text-align: center;" scope="col">
                              Email
                            </th>
                            <th style="text-align: center;" scope="col">
                              Status
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngIf="pendingText?.length <1">
                            <td colspan="12" style="text-align: center;"><b>There are no records to show</b></td>
                          </tr>
                          <tr *ngFor="
                                                  let data of pendingText
                                                      | paginate
                                                          : {
                                                                itemsPerPage: 10,
                                                                currentPage: p
                                                            }
                                                      | filter: searchText
                                              ">
                            <td style="text-align: center;">
                              {{ data.membershipId }}
                            </td>
                            <td style="text-align: center;">
                             {{data.typeName}}
                            </td>
                            <td style="text-align: center;">
                              {{ data.nicNumber }}
                            </td>
                            <td style="text-align: center;">
                              {{ data.firstName }}
                            </td>
                            <td style="text-align: center;">
                              {{ data.phonenumber }}
                            </td>
                            <td style="text-align: center;">
                              {{ data.email }}
                            </td>
                           
                              <td  *ngIf="'Pending' == data.AcceptedRejectedStatus" style="color:rgb(241, 189, 18); text-align: center; ">
                                <i class="fa fa-spinner" aria-hidden="true" ngbTooltip="Membership Pending"></i>
                                
                               
                              &nbsp;
                              
                              <!-- <button type="button" *ngIf="showStatus"  (click)="activeEmployee()" class="btn btn-sucess btn-sm">
                                <i class="fa fa-trash-o" aria-hidden="true"></i>
                              </button> -->
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <pagination-controls (pageChange)="p = $event" style="float:right;"></pagination-controls>
                      </table>
                    </div>
                    
                    </ng-template>
                  </ngb-tab>
                  <ngb-tab>
                    <ng-template ngbTabTitle><b>Rejected</b></ng-template>
                    <ng-template ngbTabContent>
                    <br/>
                    <table class="table table-hover table-striped">
                      <thead>
                        <div class="row">
                          <div class="container">
                            <div class="row">
                              <div class="col-md-7">
                              </div>
                            </div>
                          
                
                            <table #dataTable class="table table-striped table-hover table-bordered table-sm" id="mytable">
                              <caption>
                                <b>View Rejected Details</b>
                              </caption>
                              <thead>
                                <tr>
                                  <th style="text-align: center;" scope="col">
                                   Membership Id
                                  </th>
                                  <th style="text-align: center;" scope="col">
                                    typeName
                                  </th>
                                  <th style="text-align: center;" scope="col">
                                    nicNumber
                                  </th>
                                  <th style="text-align: center;" scope="col">
                                     Name
                                  </th>
                                  <th style="text-align: center;" scope="col">
                                    Contact Number
                                  </th>
                                  <th style="text-align: center;" scope="col">
                                    Email
                                  </th>
                                  <th style="text-align: center;" scope="col">
                                    Status
                                  </th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr *ngIf="requestMembershipStatus?.length <1">
                                  <td colspan="12" style="text-align: center;"><b>There are no records to show</b></td>
                                </tr>
                                <tr *ngFor="
                                                        let data of requestMembershipStatus
                                                            | paginate
                                                                : {
                                                                      itemsPerPage: 10,
                                                                      currentPage: p
                                                                  }
                                                            | filter: searchText
                                                    ">
                                  <td style="text-align: center;">
                                    {{ data.membershipId }}
                                  </td>
                                  <td style="text-align: center;">
                                   {{data.typeName}}
                                  </td>
                                  <td style="text-align: center;">
                                    {{ data.nicNumber }}
                                  </td>
                                  <td style="text-align: center;">
                                    {{ data.firstName }}
                                  </td>
                                  <td style="text-align: center;">
                                    {{ data.phonenumber }}
                                  </td>
                                  <td style="text-align: center;">
                                    {{ data.email }}
                                  </td>
                                 
                                    <td  *ngIf="'Rejected' == data.AcceptedRejectedStatus" style="color:red; text-align: center; ">
                                      <i class="fa fa-ban" aria-hidden="true" ngbTooltip="Membership Rejected"></i>
                                      
                                     
                                    &nbsp;
                                    
                                    <!-- <button type="button" *ngIf="showStatus"  (click)="activeEmployee()" class="btn btn-sucess btn-sm">
                                      <i class="fa fa-trash-o" aria-hidden="true"></i>
                                    </button> -->
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                            <pagination-controls (pageChange)="p = $event" style="float:right;"></pagination-controls>
                          </div>
                        </div>
                      </thead>
                    </table> 
                    </ng-template>
                  </ngb-tab>
                  </ngb-tabset>
              </div>
              </div>
         
          </div>
        </div>
      </thead>
    </table>
  </div>
</div>

